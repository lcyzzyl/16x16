C51 COMPILER V7.50   STATIC                                                                12/09/2021 18:20:19 PAGE 1   


C51 COMPILER V7.50, COMPILATION OF MODULE STATIC
OBJECT MODULE PLACED IN static.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE static.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          
   2          /************************************************************************************/
   3          /*     ³ÌÐòÃû£º16x16µãÕóÊÔÑé³ÌÐò                                                                                */
   4          /*                                                                                  */
   5          /*     CPUÐÍºÅ£ºAT89S52/STC89C51RC    ¾§Õñ£º12.0 M                                  */
   6          /*                                                                                  */                    
             -                         
   7          /*                                                                                  */
   8          /*     ¹¦ÄÜÃèÊö£º ¿ØÖÆ16x16LEDµãÕóÏÔÊ¾Í¼ÐÎ×ÖÄ¸ºº×ÖµÈ                                */
   9          /*     ÐÐ  É¨    £º 74ls138x2 CPU P1¿ÚÇ°ËÄÎ» A P1^0      B  P1^1  C  P1^2   D  P1^3             */
  10          /*     ÁÐÉ¨£¨Êý¾Ý£©£ºSCK P0^0 RCK P0^1 SER P0^2                                     */
  11          /*     È¡Ä£·½Ê½£º    ÒõÂë ÖðÐÐÊ½  Ë³Ïò£¨¸ßÎ»ÔÚÇ°£©                                                                                                          */
  12          /*                                                                                                                                                                  */
  13          /*                                                      ¾«Ó¢ÍÅ¶Ó °æÈ¨ËùÓÐ           */                    
             -             
  14          /*                                                            2008-06-20            */
  15          /************************************************************************************/ 
  16          
  17          #include<reg52.h>
  18          #define uchar unsigned char
  19          #define uint unsigned int 
  20           
  21          
  22           
  23          sbit  P_HC595_SCK  =  P0^0;        // CPU  pin 1        SCK        Êý¾ÝÊäÈëÊ±ÖÓ
  24          sbit  P_HC595_RCK  =  P0^1;        // CPU  pin 2        RCK        Êý¾ÝÊä³öÊ±ÖÓ
  25          sbit  P_HC595_SER  =  P0^2;        // CPU  pin 3        SER       Êý¾ÝÊäÈë
  26          
  27          
  28          
  29          uint speed=2;
  30          
  31          
  32          uchar code table[]=
  33          {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f};
  34          
  35          
  36          uchar code hanzi1[] = {                                                         //ÒõÂë Ë³Ïò 
  37          
  38           
  39          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  40          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  41          
  42          
  43          
  44          0x00,0x80,0x20,0x40,0x17,0xFE,0x12,0x08,0x81,0x10,0x40,0xA0,0x40,0x40,0x11,0xB0,
  45          0x16,0x0E,0x21,0x10,0xE1,0x10,0x21,0x10,0x21,0x10,0x22,0x10,0x22,0x10,0x04,0x10,/*"¼Ã",0*/
  46          /* (16 X 16 , ËÎÌå )*/
  47          
  48          0x01,0x00,0x01,0x00,0xFF,0xFE,0x01,0x00,0x01,0x00,0x7F,0xFC,0x48,0x24,0x44,0x44,
  49          0x4F,0xE4,0x41,0x04,0x41,0x04,0x5F,0xF4,0x41,0x04,0x41,0x04,0x41,0x14,0x40,0x08,/*"ÄÏ",1*/
  50          /* (16 X 16 , ËÎÌå )*/
  51          
  52          0x00,0x00,0x3F,0xFE,0x20,0x00,0x20,0x80,0x20,0x80,0x20,0x80,0x2F,0xFC,0x20,0x84,
  53          0x20,0x84,0x21,0x04,0x21,0x04,0x22,0x04,0x22,0x04,0x44,0x04,0x48,0x28,0x90,0x10,/*"Àú",2*/
C51 COMPILER V7.50   STATIC                                                                12/09/2021 18:20:19 PAGE 2   

  54          /* (16 X 16 , ËÎÌå )*/
  55          
  56          0x20,0x28,0x20,0x24,0x20,0x20,0x27,0xFE,0x24,0x20,0xFC,0x20,0x24,0x24,0x27,0xA4,
  57          0x24,0xA4,0x24,0xA8,0x24,0xA8,0x3C,0x90,0xE6,0x92,0x49,0x2A,0x08,0x46,0x10,0x82,/*"³Ç",3*/
  58          /* (16 X 16 , ËÎÌå )*/
  59          
  60          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFE,
  61          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"Ò»",4*/
  62          /* (16 X 16 , ËÎÌå )*/
  63          
  64          0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x3F,0xF8,0x21,0x08,0x21,0x08,0x21,0x08,
  65          0x21,0x08,0x21,0x08,0x3F,0xF8,0x21,0x08,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,/*"ÖÐ",5*/
  66          /* (16 X 16 , ËÎÌå )*/
  67          
  68          
  69          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  70          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  71          
  72          
  73          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  74          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  75          
  76          
  77          
  78          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  79          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  80          
  81          
  82          
  83          
  84           
  85          };
  86          
  87          
  88           
  89          
  90          void delay(uint x)                      //ÑÓÊ±×Óº¯Êý
  91          {       
  92   1              uint i,j;
  93   1              for(i=x;i>0;i--)
  94   1                 for(j=10;j>0;j--);
  95   1      }
  96          
  97          
  98          
  99          
 100          
 101          
 102          void Send_595(unsigned char dat)        //·¢ËÍÒ»¸ö×Ö½Ú
 103          {                
 104   1              unsigned char  i;
 105   1              for(i=0; i<8; i++)
 106   1              {
 107   2                      if(dat & 0x01)           //Èç¹ûdatºÍ0x01ÓëµÄ½á¹ûÊÇ1£¬Ò²¾ÍÊÇÐèÒªledÁÁ£¬¾Í°ÑÊý¾ÝÎ»ÖÃ0£¬ 
 108   2        
 109   2      //  0000 0000 0000 1000
 110   2      //  0000 0000 0000 0001
 111   2      //  0000 0000 0000 0000
 112   2      //  ÐèÒªÓÒÒÆ
 113   2      //  µÚÒ»Î»»ñÈ¡µÄÊÇ0£¬ÓÉÓÚÒõÂëÊÇ 0 Ê±ledÊÇ²»ÁÁµÄ£¬¸ù¾Ý595µÄ¹¤×÷Ô­ÀíºÍµçÂ·Ô­Àí£¬ËÍµÄÊý¾ÝÓ¦¸ÃÎª 1 £¬ËÍµ½µÚËÄÎ
             -»Ê±£¬ÓëµÄ½á¹ûÎª1£¬£¬Êý¾ÝËÍ 0 £¬ledÁÁÁË¡£
 114   2      
C51 COMPILER V7.50   STATIC                                                                12/09/2021 18:20:19 PAGE 3   

 115   2                                         P_HC595_SER = 0;         //Êý¾ÝÊÇ 0 Ê±£¬led ÁÁ
 116   2                     else                             
 117   2                                         P_HC595_SER = 1;        //Êý¾ÝÊÇ 1  Ê±£¬led²»ÁÁ                  
 118   2                      
 119   2                              // P_HC595_SER  =  dat & 0x80 ;   //È¡³ö×î¸ßÎ»
 120   2                                      
 121   2                                      P_HC595_SCK = 0;
 122   2                              
 123   2                                  P_HC595_SCK = 1;             //SCK±ä³É¸ßµçÆ½£¬²úÉúÉÏÉýÑØ£¬Êý¾ÝËÍÈë
 124   2      
 125   2                      dat = dat >> 1;         //ÓÒÒÆ1Î» £¬×ó±ßÌí0
 126   2      
 127   2      
 128   2              }
 129   1      
 130   1              
 131   1      }
 132          
 133          
 134          
 135          void Show_595_bmp(unsigned char dat[])  //ÏÔÊ¾Ò»¸ö×Öºº×Ö
 136          
 137          
 138          {
 139   1      
 140   1          unsigned char   j ,temp1,temp2 ;
 141   1      
 142   1              for (j=0;j<16;j++)
 143   1          {
 144   2                  
 145   2      
 146   2                 temp1 = dat[2*j];
 147   2                 temp2 = dat[2*j+1];
 148   2                 
 149   2                 
 150   2                 Send_595(temp2);       // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 151   2                 Send_595(temp1);       // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 152   2                                                        
 153   2                 
 154   2                 P_HC595_RCK = 1;       //Êý¾ÝËø´æ¸ßµçÆ½
 155   2      
 156   2                 P_HC595_RCK = 0;       //Êý¾ÝËø´æµÍµçÆ½
 157   2      
 158   2                  
 159   2                 
 160   2                 P1=table[j];      //ÒªÏÈËÍÁÐÊý¾Ý£¬ÔÙËÍÐÐÊý¾Ý£¬·ñÔòÖØÓ°ÖØ
 161   2                         
 162   2                 delay(10);             //ÑÓÊ±
 163   2       
 164   2                 
 165   2                 
 166   2                  
 167   2                   
 168   2               }
 169   1      
 170   1      } 
 171          
 172          
 173          
 174          
 175          
 176          void Show_595_bmp_up(unsigned char dat[])  //ÏÔÊ¾Ò»¸ö×Öºº×Ö
C51 COMPILER V7.50   STATIC                                                                12/09/2021 18:20:19 PAGE 4   

 177          
 178          
 179          {
 180   1      
 181   1          unsigned char i, j ,k,temp1,temp2 ;
 182   1      
 183   1              
 184   1              for (i=0;i<116;i++)
 185   1      
 186   1              for (k=0;k<speed;k++)
 187   1      
 188   1              {
 189   2              
 190   2              
 191   2              
 192   2                  for (j=0;j<16;j++)
 193   2                {
 194   3                  
 195   3                      temp1 = dat[2*j+2*i];
 196   3                  temp2 = dat[2*j+2*i+1];
 197   3                 
 198   3                 
 199   3                  Send_595(temp2);      // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 200   3                  Send_595(temp1);      // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 201   3                                                        
 202   3                  
 203   3                  P_HC595_RCK = 1;      //Êý¾ÝËø´æ¸ßµçÆ½
 204   3      
 205   3                  P_HC595_RCK = 0;      //Êý¾ÝËø´æµÍµçÆ½
 206   3      
 207   3                  
 208   3                  
 209   3                  P1=table[j];      //ÒªÏÈËÍÁÐÊý¾Ý£¬ÔÙËÍÐÐÊý¾Ý£¬·ñÔòÖØÓ°ÖØ
 210   3                         
 211   3                  delay(10);            //ÑÓÊ±
 212   3       
 213   3                 
 214   3                 
 215   3                  
 216   3                   
 217   3                  }
 218   2      
 219   2      
 220   2               }
 221   1      
 222   1      } 
 223          
 224          
 225          
 226          
 227          
 228          void Show_595_bmp_down(unsigned char dat[])  //ÏÔÊ¾Ò»¸ö×Öºº×Ö
 229          
 230          
 231          {
 232   1      
 233   1          unsigned char i, j ,k,temp1,temp2 ;
 234   1      
 235   1              
 236   1              for (i=116;i>0;i--)
 237   1      
 238   1              for (k=0;k<speed;k++)
C51 COMPILER V7.50   STATIC                                                                12/09/2021 18:20:19 PAGE 5   

 239   1      
 240   1              {
 241   2              
 242   2              
 243   2              
 244   2                  for (j=0;j<16;j++)
 245   2                {
 246   3                  
 247   3                      temp1 = dat[2*j+2*i];
 248   3                  temp2 = dat[2*j+2*i+1];
 249   3                 
 250   3                 
 251   3                  Send_595(temp2);      // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 252   3                  Send_595(temp1);      // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 253   3                                                        
 254   3                  
 255   3                  P_HC595_RCK = 1;      //Êý¾ÝËø´æ¸ßµçÆ½
 256   3      
 257   3                  P_HC595_RCK = 0;      //Êý¾ÝËø´æµÍµçÆ½
 258   3      
 259   3                  
 260   3                  
 261   3                  P1=table[j];      //ÒªÏÈËÍÁÐÊý¾Ý£¬ÔÙËÍÐÐÊý¾Ý£¬·ñÔòÖØÓ°ÖØ
 262   3                         
 263   3                  delay(10);            //ÑÓÊ±
 264   3       
 265   3                 
 266   3                 
 267   3                  
 268   3                   
 269   3                  }
 270   2      
 271   2      
 272   2               }
 273   1      
 274   1      } 
 275          
 276          
 277          
 278          
 279          
 280          
 281          
 282          
 283          
 284           void Show_595_clear()  //ÇåÆÁ
 285          
 286          {
 287   1      
 288   1          unsigned char j ;
 289   1      
 290   1              for (j=0;j<16;j++)
 291   1          {
 292   2                 
 293   2                  
 294   2                         
 295   2                 Send_595(0x00);        // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 296   2                 Send_595(0x00);        // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 297   2                                                        
 298   2                 
 299   2                 P_HC595_RCK = 1;       //Êý¾ÝËø´æ¸ßµçÆ½
 300   2      
C51 COMPILER V7.50   STATIC                                                                12/09/2021 18:20:19 PAGE 6   

 301   2                 P_HC595_RCK = 0;       //Êý¾ÝËø´æµÍµçÆ½
 302   2                 
 303   2                 
 304   2                 P1=table[j]; 
 305   2      
 306   2                 delay(1);              //ÑÓÊ±
 307   2                
 308   2                 
 309   2                  
 310   2                   
 311   2               }
 312   1      
 313   1      }      
 314          
 315              
 316          
 317          
 318          void main()
 319          {       
 320   1      
 321   1      
 322   1             while(1) { 
 323   2      
 324   2                                 
 325   2       
 326   2                         Show_595_bmp_up(hanzi1);
 327   2      
 328   2                     
 329   2       
 330   2                         Show_595_bmp_down(hanzi1);
 331   2      
 332   2                                                              
 333   2      
 334   2      
 335   2                               
 336   2      
 337   2           
 338   2      
 339   2                   }
 340   1      }
 341          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    424    ----
   CONSTANT SIZE    =    336    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2      19
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
