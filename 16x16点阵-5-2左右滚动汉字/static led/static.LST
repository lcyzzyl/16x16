C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 1   


C51 COMPILER V7.50, COMPILATION OF MODULE STATIC
OBJECT MODULE PLACED IN static.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE static.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          
   2          /************************************************************************************/
   3          /*     ³ÌÐòÃû£º16x16µãÕóÊÔÑé³ÌÐò                                                                                */
   4          /*                                                                                  */
   5          /*     CPUÐÍºÅ£ºAT89S52/STC89C51RC    ¾§Õñ£º12.0 M                                  */
   6          /*                                                                                  */                    
             -                         
   7          /*                                                                                  */
   8          /*     ¹¦ÄÜÃèÊö£º ¿ØÖÆ16x16LEDµãÕóÏÔÊ¾Í¼ÐÎ×ÖÄ¸ºº×ÖµÈ                                */
   9          /*     ÐÐ  É¨    £º 74ls138x2 CPU P1¿ÚÇ°ËÄÎ» A P1^0      B  P1^1  C  P1^2   D  P1^3             */
  10          /*     ÁÐÉ¨£¨Êý¾Ý£©£ºSCK P0^0 RCK P0^1 SER P0^2                                     */
  11          /*     È¡Ä£·½Ê½£º    ÒõÂë ÖðÐÐÊ½  Ë³Ïò£¨¸ßÎ»ÔÚÇ°£©                                                                                                          */
  12          /*                                                                                                                                                                  */
  13          /*                                                      ¾«Ó¢ÍÅ¶Ó °æÈ¨ËùÓÐ           */                    
             -             
  14          /*                                                            2008-06-20            */
  15          /************************************************************************************/ 
  16          
  17          #include<reg52.h>
  18          #define uchar unsigned char
  19          #define uint unsigned int 
  20           
  21          
  22           
  23          sbit  P_HC595_SCK  =  P0^0;        // CPU  pin 1        SCK        Êý¾ÝÊäÈëÊ±ÖÓ
  24          sbit  P_HC595_RCK  =  P0^1;        // CPU  pin 2        RCK        Êý¾ÝÊä³öÊ±ÖÓ
  25          sbit  P_HC595_SER  =  P0^2;        // CPU  pin 3        SER       Êý¾ÝÊäÈë
  26          
  27          
  28          
  29          uint speed=5;
  30          
  31          
  32          uchar code table[]=
  33          {0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f};
  34          
  35          
  36          uchar code hanzi1[] = {                                                         //ÒõÂë Ë³Ïò  ÖðÐÐÊ½
  37          
  38           
  39          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  40          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  41          
  42          
  43          
  44          0x00,0x80,0x20,0x40,0x17,0xFE,0x12,0x08,0x81,0x10,0x40,0xA0,0x40,0x40,0x11,0xB0,
  45          0x16,0x0E,0x21,0x10,0xE1,0x10,0x21,0x10,0x21,0x10,0x22,0x10,0x22,0x10,0x04,0x10,/*"¼Ã",0*/
  46          /* (16 X 16 , ËÎÌå )*/
  47          
  48          0x01,0x00,0x01,0x00,0xFF,0xFE,0x01,0x00,0x01,0x00,0x7F,0xFC,0x48,0x24,0x44,0x44,
  49          0x4F,0xE4,0x41,0x04,0x41,0x04,0x5F,0xF4,0x41,0x04,0x41,0x04,0x41,0x14,0x40,0x08,/*"ÄÏ",1*/
  50          /* (16 X 16 , ËÎÌå )*/
  51          
  52          0x00,0x00,0x3F,0xFE,0x20,0x00,0x20,0x80,0x20,0x80,0x20,0x80,0x2F,0xFC,0x20,0x84,
  53          0x20,0x84,0x21,0x04,0x21,0x04,0x22,0x04,0x22,0x04,0x44,0x04,0x48,0x28,0x90,0x10,/*"Àú",2*/
C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 2   

  54          /* (16 X 16 , ËÎÌå )*/
  55          
  56          0x20,0x28,0x20,0x24,0x20,0x20,0x27,0xFE,0x24,0x20,0xFC,0x20,0x24,0x24,0x27,0xA4,
  57          0x24,0xA4,0x24,0xA8,0x24,0xA8,0x3C,0x90,0xE6,0x92,0x49,0x2A,0x08,0x46,0x10,0x82,/*"³Ç",3*/
  58          /* (16 X 16 , ËÎÌå )*/
  59          
  60          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFE,
  61          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"Ò»",4*/
  62          /* (16 X 16 , ËÎÌå )*/
  63          
  64          0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x3F,0xF8,0x21,0x08,0x21,0x08,0x21,0x08,
  65          0x21,0x08,0x21,0x08,0x3F,0xF8,0x21,0x08,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,/*"ÖÐ",5*/
  66          /* (16 X 16 , ËÎÌå )*/
  67          
  68          
  69          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  70          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  71          
  72          
  73          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  74          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  75          
  76          
  77          
  78          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  79          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  80          
  81          
  82          
  83          
  84           
  85          };
  86          
  87          
  88          
  89          
  90          uchar code  hanzi2[] = {                                                         //ÒõÂë Ë³Ïò ÖðÁÐÊ½ 
  91          
  92          
  93          
  94          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  95          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  96          
  97          0x08,0x20,0x06,0x20,0x40,0x7E,0x31,0x80,0x00,0x00,0x20,0x81,0x30,0x86,0x29,0x78,
  98          0xA5,0x00,0x62,0x00,0x25,0x00,0x29,0x7F,0x30,0x80,0x20,0x80,0x20,0x80,0x00,0x00,/*"¼Ã",0*/
  99          /* (16 X 16 , ËÎÌå ) */
 100          
 101          
 102          
 103          
 104          0x20,0x00,0x27,0xFF,0x24,0x00,0x24,0x10,0x26,0x90,0x25,0x90,0x24,0x90,0xFC,0xFE,
 105          0x24,0x90,0x25,0x90,0x26,0x90,0x24,0x12,0x24,0x01,0x27,0xFE,0x20,0x00,0x00,0x00,/*"ÄÏ",1*/
 106          /* (16 X 16 , ËÎÌå ) */
 107          
 108          0x00,0x01,0x00,0x06,0x7F,0xF8,0x40,0x01,0x42,0x02,0x42,0x04,0x42,0x18,0x42,0x60,
 109          0x5F,0x80,0x42,0x00,0x42,0x02,0x42,0x01,0x42,0x02,0x43,0xFC,0x40,0x00,0x00,0x00,/*"Àú",2*/
 110          /* (16 X 16 , ËÎÌå ) */
 111          
 112          0x04,0x08,0x04,0x0C,0xFF,0xF8,0x04,0x11,0x04,0x16,0x1F,0xF8,0x11,0x08,0x11,0x04,
 113          0x11,0xF9,0x10,0x02,0xFF,0xE4,0x10,0x18,0x90,0x64,0x53,0x82,0x10,0x0F,0x00,0x00,/*"³Ç",3*/
 114          /* (16 X 16 , ËÎÌå ) */
 115          
C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 3   

 116          0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
 117          0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x00,0x00,/*"Ò»",4*/
 118          /* (16 X 16 , ËÎÌå ) */
 119          
 120          0x00,0x00,0x00,0x00,0x0F,0xF0,0x08,0x20,0x08,0x20,0x08,0x20,0x08,0x20,0xFF,0xFF,
 121          0x08,0x20,0x08,0x20,0x08,0x20,0x08,0x20,0x0F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,/*"ÖÐ",5*/
 122          /* (16 X 16 , ËÎÌå ) */
 123          
 124          
 125          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 126          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 127          
 128          
 129          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 130          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 131          
 132          
 133          
 134          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 135          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 136          
 137          
 138          
 139           
 140          
 141           
 142          };
 143          
 144          
 145          
 146          
 147          
 148          
 149           
 150          
 151          void delay(uint x)                      //ÑÓÊ±×Óº¯Êý
 152          {       
 153   1              uint i,j;
 154   1              for(i=x;i>0;i--)
 155   1                 for(j=10;j>0;j--);
 156   1      }
 157          
 158          
 159          
 160          
 161          
 162          
 163          void Send_595(unsigned char dat)        //·¢ËÍÒ»¸ö×Ö½Ú
 164          {                
 165   1              unsigned char  i;
 166   1              for(i=0; i<8; i++)
 167   1              {
 168   2                      if(dat & 0x01)           //Èç¹ûdatºÍ0x01ÓëµÄ½á¹ûÊÇ1£¬Ò²¾ÍÊÇÐèÒªledÁÁ£¬¾Í°ÑÊý¾ÝÎ»ÖÃ0£¬ 
 169   2        
 170   2      //  0000 0000 0000 1000
 171   2      //  0000 0000 0000 0001
 172   2      //  0000 0000 0000 0000
 173   2      //  ÐèÒªÓÒÒÆ
 174   2      //  µÚÒ»Î»»ñÈ¡µÄÊÇ0£¬ÓÉÓÚÒõÂëÊÇ 0 Ê±ledÊÇ²»ÁÁµÄ£¬¸ù¾Ý595µÄ¹¤×÷Ô­ÀíºÍµçÂ·Ô­Àí£¬ËÍµÄÊý¾ÝÓ¦¸ÃÎª 1 £¬ËÍµ½µÚËÄÎ
             -»Ê±£¬ÓëµÄ½á¹ûÎª1£¬£¬Êý¾ÝËÍ 0 £¬ledÁÁÁË¡£
 175   2      
 176   2                                         P_HC595_SER = 0;         //Êý¾ÝÊÇ 0 Ê±£¬led ÁÁ
C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 4   

 177   2                     else                             
 178   2                                         P_HC595_SER = 1;        //Êý¾ÝÊÇ 1  Ê±£¬led²»ÁÁ                  
 179   2                      
 180   2                              // P_HC595_SER  =  dat & 0x80 ;   //È¡³ö×î¸ßÎ»
 181   2                                      
 182   2                                      P_HC595_SCK = 0;
 183   2                              
 184   2                                  P_HC595_SCK = 1;             //SCK±ä³É¸ßµçÆ½£¬²úÉúÉÏÉýÑØ£¬Êý¾ÝËÍÈë
 185   2      
 186   2                      dat = dat >> 1;         //ÓÒÒÆ1Î» £¬×ó±ßÌí0
 187   2      
 188   2      
 189   2              }
 190   1      
 191   1              
 192   1      }
 193          
 194          
 195          
 196          void Show_595_bmp(unsigned char dat[])  //ÏÔÊ¾Ò»¸ö×Öºº×Ö
 197          
 198          
 199          {
 200   1      
 201   1          unsigned char   j ,temp1,temp2 ;
 202   1      
 203   1              for (j=0;j<16;j++)
 204   1          {
 205   2                  
 206   2      
 207   2                 temp1 = dat[2*j];
 208   2                 temp2 = dat[2*j+1];
 209   2                 
 210   2                 
 211   2                 Send_595(temp2);       // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 212   2                 Send_595(temp1);       // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 213   2                                                        
 214   2                 
 215   2                 P_HC595_RCK = 1;       //Êý¾ÝËø´æ¸ßµçÆ½
 216   2      
 217   2                 P_HC595_RCK = 0;       //Êý¾ÝËø´æµÍµçÆ½
 218   2      
 219   2                  
 220   2                 
 221   2                 P1=table[15-j];      //ÒªÏÈËÍÁÐÊý¾Ý£¬ÔÙËÍÐÐÊý¾Ý£¬·ñÔòÖØÓ°ÖØ
 222   2                         
 223   2                 delay(5);              //ÑÓÊ±
 224   2       
 225   2                 
 226   2                 
 227   2                  
 228   2                   
 229   2               }
 230   1      
 231   1      } 
 232          
 233          
 234          
 235          
 236          
 237          void Show_595_bmp_up(unsigned char dat[])  //ÏÔÊ¾Ò»¸ö×Öºº×Ö
 238          
C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 5   

 239          
 240          {
 241   1      
 242   1          unsigned char i, j ,k,temp1,temp2 ;
 243   1      
 244   1              
 245   1              for (i=0;i<116;i++)
 246   1      
 247   1              for (k=0;k<speed;k++)
 248   1      
 249   1              {
 250   2              
 251   2              
 252   2              
 253   2                  for (j=0;j<16;j++)
 254   2                {
 255   3                  
 256   3                      temp1 = dat[2*j+2*i];
 257   3                  temp2 = dat[2*j+2*i+1];
 258   3                 
 259   3                 
 260   3                  Send_595(temp2);      // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 261   3                  Send_595(temp1);      // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 262   3                                                        
 263   3                  
 264   3                  P_HC595_RCK = 1;      //Êý¾ÝËø´æ¸ßµçÆ½
 265   3      
 266   3                  P_HC595_RCK = 0;      //Êý¾ÝËø´æµÍµçÆ½
 267   3      
 268   3                  
 269   3                  
 270   3                  P1=table[15-j];      //ÒªÏÈËÍÁÐÊý¾Ý£¬ÔÙËÍÐÐÊý¾Ý£¬·ñÔòÖØÓ°ÖØ
 271   3                         
 272   3                  delay(5);             //ÑÓÊ±
 273   3       
 274   3                 
 275   3                 
 276   3                  
 277   3                   
 278   3                  }
 279   2      
 280   2      
 281   2               }
 282   1      
 283   1      } 
 284          
 285          
 286          
 287          
 288          
 289          void Show_595_bmp_down(unsigned char dat[])  //ÏÔÊ¾Ò»¸ö×Öºº×Ö
 290          
 291          
 292          {
 293   1      
 294   1          unsigned char i, j ,k,temp1,temp2 ;
 295   1      
 296   1              
 297   1              for (i=116;i>0;i--)
 298   1      
 299   1              for (k=0;k<speed;k++)
 300   1      
C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 6   

 301   1              {
 302   2              
 303   2              
 304   2              
 305   2                  for (j=0;j<16;j++)
 306   2                {
 307   3                  
 308   3                      temp1 = dat[2*j+2*i];
 309   3                  temp2 = dat[2*j+2*i+1];
 310   3                 
 311   3                 
 312   3                  Send_595(temp2);      // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 313   3                  Send_595(temp1);      // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 314   3                                                        
 315   3                  
 316   3                  P_HC595_RCK = 1;      //Êý¾ÝËø´æ¸ßµçÆ½
 317   3      
 318   3                  P_HC595_RCK = 0;      //Êý¾ÝËø´æµÍµçÆ½
 319   3      
 320   3                  
 321   3                  
 322   3                  P1=table[15-j];      //ÒªÏÈËÍÁÐÊý¾Ý£¬ÔÙËÍÐÐÊý¾Ý£¬·ñÔòÖØÓ°ÖØ
 323   3                         
 324   3                  delay(5);             //ÑÓÊ±
 325   3       
 326   3                 
 327   3                 
 328   3                  
 329   3                   
 330   3                  }
 331   2      
 332   2      
 333   2               }
 334   1      
 335   1      } 
 336          
 337          
 338          
 339          
 340          
 341          
 342          
 343          
 344          
 345           void Show_595_clear()  //ÇåÆÁ
 346          
 347          {
 348   1      
 349   1          unsigned char j ;
 350   1      
 351   1              for (j=0;j<16;j++)
 352   1          {
 353   2                 
 354   2                  
 355   2                         
 356   2                 Send_595(0x00);        // ËÍÒ»ÐÐµÄ¸ßÎ»Êý¾Ý
 357   2                 Send_595(0x00);        // ËÍÒ»ÐÐµÄµÍÎ»Êý¾Ý
 358   2                                                        
 359   2                 
 360   2                 P_HC595_RCK = 1;       //Êý¾ÝËø´æ¸ßµçÆ½
 361   2      
 362   2                 P_HC595_RCK = 0;       //Êý¾ÝËø´æµÍµçÆ½
C51 COMPILER V7.50   STATIC                                                                12/10/2021 15:34:14 PAGE 7   

 363   2                 
 364   2                 
 365   2                 P1=table[15-j]; 
 366   2      
 367   2                 delay(1);              //ÑÓÊ±
 368   2                
 369   2                 
 370   2                  
 371   2                   
 372   2               }
 373   1      
 374   1      }      
 375          
 376              
 377          
 378          
 379          void main()
 380          {       
 381   1      
 382   1      
 383   1             while(1) { 
 384   2      
 385   2                                 
 386   2       
 387   2                         Show_595_bmp_up(hanzi2);
 388   2      
 389   2                     
 390   2       
 391   2                         Show_595_bmp_down(hanzi2);
 392   2      
 393   2      
 394   2      
 395   2                                      //Show_595_bmp(hanzi2); 
 396   2      
 397   2                                                              
 398   2      
 399   2      
 400   2                               
 401   2      
 402   2           
 403   2      
 404   2                   }
 405   1      }
 406          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    466    ----
   CONSTANT SIZE    =    656    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2      19
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
